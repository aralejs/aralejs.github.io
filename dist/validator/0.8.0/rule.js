define("#validator/0.8.0/rule",["$","async","widget"],function(a,b,c){function j(a,b,c){if(d[a])throw new Error("The rule with the same name has existed and overriding a rule is not allowed!");b instanceof i?d[a]=new i(a,b.operator):d[a]=new i(a,b),l(a,c)}function k(a,b){var c=a.rule,d;return a.message?f.isPlainObject(a.message)?d=a.message[b?"success":"failure"]:d=b?"":a.message:d=e[c][b?"success":"failure"],d?o(a,d):d}function l(a,b){f.isPlainObject(b)?e[a]=b:e[a]={failure:b}}function m(a){return d[a].operator}function n(a,b){if(b){var c=d[a];return new i(null,function(a,d){c.operator(f.extend(null,a,b),d)})}return d[a]}function o(a,b){var c=b,d=/\{\{[^\{\}]*\}\}/g,e=/\{\{(.*)\}\}/,g=b.match(d);return f.each(g,function(b,d){var g=d.match(e)[1],h=a[f.trim(g)];c=c.replace(d,h)}),c}var d={},e={},f=a("$"),g=a("async"),h=a("widget"),i=h.extend({initialize:function(a,b){this.name=a;if(b instanceof RegExp)this.operator=function(a,c){var d=b.test(f(a.element).val());c(d?null:a.rule,k(a,d))};else if(typeof b=="function")this.operator=function(a,c){var d=b(a,c);d!==undefined&&c(d?null:a.rule,k(a,d))};else throw new Error("The second argument must be a regexp or a function.")},and:function(a,b){if(a instanceof i)var c=a;else var c=n(a,b);if(!c)throw new Error('No rule with name "'+a+'" found.');var d=this,e=function(a,b){d.operator(a,function(d,e){d?b(d,k(a,!d)):c.operator(a,b)})};return new i(null,e)},or:function(a,b){if(a instanceof i)var c=a;else var c=n(a,b);if(!c)throw new Error('No rule with name "'+a+'" found.');var d=this,e=function(a,b){d.operator(a,function(d,e){d?c.operator(a,b):b(null,k(a,!0))})};return new i(null,e)},not:function(a){var b=n(this.name,a),c=function(a,c){b.operator(a,function(b,d){b?c(null,k(a,!0)):c(!0,k(a,!1))})};return new i(null,c)}});j("required",function(a){var b=f(a.element),c=b.attr("type");switch(c){case"checkbox":case"radio":var d=!1;return b.each(function(a,b){if(f(b).prop("checked"))return d=!0,!1}),d;default:return Boolean(b.val())}},"{{display}}不能为空。"),j("email",/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"{{display}}的格式不正确。"),j("text",/.*/),j("password",/.*/),j("radio",/.*/),j("checkbox",/.*/),j("url",/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,"{{display}}的格式不正确。"),j("number",/^[+-]?[1-9][0-9]*(\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\.[0-9]+([eE][+-][1-9][0-9]*)?$/,"{{display}}的格式不正确。"),j("date",/^\d{4}\-[01]?\d\-[0-3]?\d$|^[01]\d\/[0-3]\d\/\d{4}$|^\d{4}年[01]?\d月[0-3]?\d[日号]$/,"{{display}}的格式不正确。"),j("min",function(a){var b=a.element,c=a.min;return Number(b.val())>=Number(c)},"{{display}}必须大于或者等于{{min}}。"),j("max",function(a){var b=a.element,c=a.max;return Number(b.val())<=Number(c)},"{{display}}必须大于或者等于{{max}}。"),j("minlength",function(a){var b=a.element,c=b.val().length;return c>=Number(a.min)},"{{display}}的长度必须大于或等于{{min}}。"),j("maxlength",function(a){var b=a.element,c=b.val().length;return c<=Number(a.max)},"{{display}}长度必须小于或等于{{max}}。"),j("mobile",/^1[3458]\d{9}$/,"请输入正确的{{display}}。"),j("confirmation",function(a){var b=a.element,c=f(a.target),d=a.name;return b.val()==c.val()},"{{display}}的内容和{{name}}不同。"),c.exports={addRule:j,setMessage:l,getRule:n,getOperator:m}});