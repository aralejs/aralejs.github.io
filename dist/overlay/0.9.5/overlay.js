define("#overlay/0.9.5/overlay",["$","position","iframe-shim","widget"],function(a,b,c){function i(a){return d.contains(document.documentElement,a)}var d=a("$"),e=a("position"),f=a("iframe-shim"),g=a("widget"),h=g.extend({attrs:{width:"",height:"",zIndex:99,id:"",className:"",style:{},visible:!1,align:{selfXY:[0,0],baseElement:e.VIEWPORT,baseXY:[0,0]},parentNode:document.body},render:function(){return h.superclass.render.call(this),this._setPosition(),this},show:function(){return this.rendered||this.render(),this.set("visible",!0),this},hide:function(){return this.set("visible",!1),this},setup:function(){this._setupShim()},_setPosition:function(a){if(!i(this.element[0]))return;a||(a=this.get("align"));var b=this.element.css("display")==="none";return b&&this.element.css({visibility:"hidden",display:"block"}),e.pin({element:this.element,x:a.selfXY[0],y:a.selfXY[1]},{element:a.baseElement,x:a.baseXY[0],y:a.baseXY[1]}),b&&this.element.css({visibility:"",display:"none"}),this},_setupShim:function(){var a=new f(this.element);this.after("show hide",a.sync,a);var b=h.prototype.attrs;for(var c in b)if(b.hasOwnProperty(c)){if(c==="parentNode")continue;this.on("change:"+c,a.sync,a)}},_onRenderWidth:function(a){this.element.css("width",a)},_onRenderHeight:function(a){this.element.css("height",a)},_onRenderZIndex:function(a){this.element.css("zIndex",a)},_onRenderId:function(a){this.element.attr("id",a)},_onRenderClassName:function(a,b){b&&this.element.removeClass(b),this.element.addClass(a)},_onRenderStyle:function(a){this.element.css(a)},_onRenderAlign:function(a){this._setPosition(a)},_onRenderVisible:function(a){this.element[a?"show":"hide"]()}});c.exports=h});