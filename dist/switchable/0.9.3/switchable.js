define("#switchable/0.9.3/switchable",["jquery","widget","./plugins/effects","./plugins/autoplay","./plugins/circular"],function(a,b,c){function p(a,b){var c=d("<ul>");for(var e=0;e<a;e++){var f=e===b?n:"";d("<li>",{"class":f,html:e+1}).appendTo(c)}return c}var d=a("jquery"),e=a("widget"),f=a("./plugins/effects"),g=a("./plugins/autoplay"),h=a("./plugins/circular"),i="ui-switchable",j=i+"-nav",k=i+"-content",l=i+"-trigger",m=i+"-panel",n=i+"-active",o=e.extend({attrs:{triggers:{value:[],getter:function(a){return d(a)}},panels:{value:[],getter:function(a){return d(a)}},hasTriggers:!0,triggerType:"hover",delay:100,effect:"none",easing:"linear",duration:500,activeIndex:0,step:1,length:{readOnly:!0,getter:function(){return this.panels.length/this.get("step")}},viewSize:[]},setup:function(){this._parseRole(),this._initElement(),this._initPanels(),this._initTriggers(),this._initPlugins(),this.render()},_parseRole:function(){var a=this.dataset.role;if(!a)return;var b=this.element,c=this.get("triggers"),d=this.get("panels");c.length===0&&(a.trigger||a.nav)&&(c=b.find(a.trigger||a.nav+" > *")),d.length===0&&(a.panel||a.content)&&(d=b.find(a.panel||a.content+" > *")),this.set("triggers",c),this.set("panels",d)},_initElement:function(){this.element.addClass(i)},_initPanels:function(){var a=this.panels=this.get("panels");if(a.length===0)throw new Error("panels.length is ZERO");this.content=a.parent().addClass(k),a.addClass(m)},_initTriggers:function(){var a=this.triggers=this.get("triggers");a.length===0&&this.get("hasTriggers")?(this.nav=p(this.get("length"),this.get("activeIndex")).appendTo(this.element),this.triggers=this.nav.children()):this.nav=a.parent(),this.triggers.addClass(l),this.nav.addClass(j),this.triggers.each(function(a,b){d(b).data("value",a)}),this._bindTriggers()},_initPlugins:function(){this._plugins=[],this._plug(f),this._plug(g),this._plug(h)},_bindTriggers:function(){function b(b){a._onFocusTrigger(b)}function c(){clearTimeout(a._switchTimer)}var a=this;this.get("triggerType")==="click"?this.triggers.click(b):this.triggers.hover(b,c)},_onFocusTrigger:function(a){var b=a.type,c=d(a.target).data("value"),e=this;b==="click"?this.switchTo(c):this._switchTimer=setTimeout(function(){e.switchTo(c)},this.get("delay"))},switchTo:function(a){return this.set("activeIndex",a),this},_onRenderActiveIndex:function(a,b){this.trigger("switch",a,b),this._triggerIsValid(a,b)&&(this._switchTrigger(a,b),this._switchPanel(this._getPanelInfo(a,b)),this.trigger("switched",a,b))},_triggerIsValid:function(a,b){return a!==b},_switchTrigger:function(a,b){var c=this.triggers;if(c.length<1)return;c.eq(b).removeClass(n),c.eq(a).addClass(n)},_switchPanel:function(a){a.fromPanels.hide(),a.toPanels.show()},_getPanelInfo:function(a,b){var c=this.panels.get(),e=this.get("step");if(b>-1)var f=b*e,g=(b+1)*e,h=c.slice(f,g);var i=c.slice(a*e,(a+1)*e);return{toIndex:a,fromIndex:b,toPanels:d(i),fromPanels:d(h)}},prev:function(){var a=this.get("activeIndex"),b=(a-1+this.get("length"))%this.length;this.switchTo(b)},next:function(){var a=this.get("activeIndex"),b=(a+1)%this.get("length");this.switchTo(b)},_plug:function(a){if(!a.isNeeded.call(this))return;var b=a.attrs;if(b)for(var c in b)b.hasOwnProperty(c)&&!(c in this.attrs)&&this.set(c,b[c]);a.install&&a.install.call(this),this._plugins.push(a)},destroy:function(){d.each(this._plugins,function(a,b){b.destroy&&b.destroy.call(this)}),o.superclass.destroy.call(this)}});c.exports=o});