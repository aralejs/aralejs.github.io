define("#switchable/0.9.4/switchable",["jquery","widget","./const","./plugins/effects","./plugins/autoplay","./plugins/circular","./plugins/multiple"],function(a,b,c){function l(a,b){var c=d("<ul>");for(var e=0;e<a;e++){var g=e===b?f.ACTIVE_CLASS:"";d("<li>",{"class":g,html:e+1}).appendTo(c)}return c}var d=a("jquery"),e=a("widget"),f=a("./const"),g=a("./plugins/effects"),h=a("./plugins/autoplay"),i=a("./plugins/circular"),j=a("./plugins/multiple"),k=e.extend({attrs:{triggers:{value:[],getter:function(a){return d(a)}},panels:{value:[],getter:function(a){return d(a)}},hasTriggers:!0,triggerType:"hover",delay:100,effect:"none",easing:"linear",duration:500,activeIndex:0,step:1,length:{readOnly:!0,getter:function(){return this.panels.length/this.get("step")}},viewSize:[]},setup:function(){this._parseRole(),this._initElement(),this._initPanels(),this._initTriggers(),this._initPlugins(),this.render()},_parseRole:function(){var a=this.dataset.role;if(!a)return;var b=this.element,c=this.get("triggers"),d=this.get("panels");c.length===0&&(a.trigger||a.nav)&&(c=b.find(a.trigger||a.nav+" > *")),d.length===0&&(a.panel||a.content)&&(d=b.find(a.panel||a.content+" > *")),this.set("triggers",c),this.set("panels",d)},_initElement:function(){this.element.addClass(f.UI_SWITCHABLE)},_initPanels:function(){var a=this.panels=this.get("panels");if(a.length===0)throw new Error("panels.length is ZERO");this.content=a.parent().addClass(f.CONTENT_CLASS),a.addClass(f.PANEL_CLASS)},_initTriggers:function(){var a=this.triggers=this.get("triggers");a.length===0&&this.get("hasTriggers")?(this.nav=l(this.get("length"),this.get("activeIndex")).appendTo(this.element),this.triggers=this.nav.children()):this.nav=a.parent(),this.triggers.addClass(f.TRIGGER_CLASS),this.nav.addClass(f.NAV_CLASS),this.triggers.each(function(a,b){d(b).data("value",a)}),this._bindTriggers()},_initPlugins:function(){this._plugins=[],this._plug(g),this._plug(h),this._plug(i),this._plug(j)},_bindTriggers:function(){function b(b){a._onFocusTrigger(b.type,d(this).data("value"))}function c(){clearTimeout(a._switchTimer)}var a=this;this.get("triggerType")==="click"?this.triggers.click(b):this.triggers.hover(b,c)},_onFocusTrigger:function(a,b){var c=this;a==="click"?this.switchTo(b):this._switchTimer=setTimeout(function(){c.switchTo(b)},this.get("delay"))},switchTo:function(a){return this.set("activeIndex",a),this},_onRenderActiveIndex:function(a,b){this._triggerIsValid(a,b)&&this._switchTo(a,b)},_switchTo:function(a,b){this.trigger("switch",a,b),this._switchTrigger(a,b),this._switchPanel(this._getPanelInfo(a,b)),this.trigger("switched",a,b)},_triggerIsValid:function(a,b){return a!==b},_switchTrigger:function(a,b){var c=this.triggers;if(c.length<1)return;c.eq(b).removeClass(f.ACTIVE_CLASS),c.eq(a).addClass(f.ACTIVE_CLASS)},_switchPanel:function(a){a.fromPanels.hide(),a.toPanels.show()},_getPanelInfo:function(a,b){var c=this.panels.get(),e=this.get("step"),f,g;if(b>-1){var h=b*e,i=(b+1)*e;f=c.slice(h,i)}return g=c.slice(a*e,(a+1)*e),{toIndex:a,fromIndex:b,toPanels:d(g),fromPanels:d(f)}},prev:function(){var a=this.get("activeIndex"),b=(a-1+this.get("length"))%this.length;this.switchTo(b)},next:function(){var a=this.get("activeIndex"),b=(a+1)%this.get("length");this.switchTo(b)},_plug:function(a){if(!a.isNeeded.call(this))return;var b=a.attrs,c=a.methods;if(b)for(var d in b)b.hasOwnProperty(d)&&!(d in this.attrs)&&this.set(d,b[d]);if(c)for(var e in c)c.hasOwnProperty(e)&&(this[e]=c[e]);a.install&&a.install.call(this),this._plugins.push(a)},destroy:function(){d.each(this._plugins,function(a,b){b.destroy&&b.destroy.call(this)}),k.superclass.destroy.call(this)}});c.exports=k});